import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as t,c as i,a as e,e as a,b as o,w as r,d as l,o as d}from"./app-C-k_0nzz.js";const c={},p=e("h1",{id:"upgrading-0-7-series",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#upgrading-0-7-series"},[e("span",null,"Upgrading 0.7 Series")])],-1),h={class:"hint-container caution"},m=e("p",{class:"hint-container-title"},"This Version is End-of-Life",-1),u=e("p",null,[a("This documentation is for "),e("strong",null,"end-of-life software"),a(" which does not recieve any security updates or support from the community. This documentation has been left accessible for historial reasons.")],-1),v=l(`<p>This documentation covers the process for upgrading within the <code>0.7.X</code> series of releases. This means upgrading from — for example — <code>0.7.3</code> to <code>0.7.11</code>. <strong>Do not use this guide for upgrading from <code>0.6</code> or upgrading to <code>1.0</code>.</strong></p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>If you are using a custom theme please be aware that upgrading will remove those files. You will need to re-upload your theme once the upgrade is complete or you will end up with server errors.</p></div><h2 id="fetch-updated-files" tabindex="-1"><a class="header-anchor" href="#fetch-updated-files"><span>Fetch Updated Files</span></a></h2><p>The first step in the update process is to download the new panel files from GitHub. The command below will download the release archive for the most recent version of Pterodactyl and save it in the current directory. Now is a good time to ensure that you&#39;re in the <code>/var/www/pterodactyl</code> directory as the command below will automatically unpack the archive into your current folder.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-L</span> https://github.com/pterodactyl/panel/releases/download/v0.7.19/panel.tar.gz <span class="token operator">|</span> <span class="token function">tar</span> --strip-components<span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-xzv</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Once all of the files are downloaded we need to set the correct permissions on the cache and storage directories to avoid any webserver related errors.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">755</span> storage/* bootstrap/cache</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="update-dependencies" tabindex="-1"><a class="header-anchor" href="#update-dependencies"><span>Update Dependencies</span></a></h2><p>After you&#39;ve downloaded all of the new files you will need to upgrade the core components of the panel. To do this, simply run the commands below and follow any prompts.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">composer</span> <span class="token function">install</span> --no-dev --optimize-autoloader</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="clear-compiled-template-cache" tabindex="-1"><a class="header-anchor" href="#clear-compiled-template-cache"><span>Clear Compiled Template Cache</span></a></h2><p>You&#39;ll also want to clear the compiled template cache to ensure that new and modified templates show up correctly for users.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">php artisan view:clear</span>
<span class="line">php artisan config:clear</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="database-updates" tabindex="-1"><a class="header-anchor" href="#database-updates"><span>Database Updates</span></a></h2><p>You&#39;ll also need to update your database schema for the newest version of Pterodactyl. Running the two commands below will update the schema and ensure the default eggs we ship are up to date (and add any new ones we might have). Just remember, <em>never edit core eggs we ship</em>! They will be overwritten by this update process.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">php artisan migrate <span class="token parameter variable">--force</span></span>
<span class="line">php artisan db:seed <span class="token parameter variable">--force</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="set-permissions" tabindex="-1"><a class="header-anchor" href="#set-permissions"><span>Set Permissions</span></a></h2><p>The last step is to set the proper owner of the files to be the user that runs your webserver. In most cases this is <code>www-data</code> but can vary from system to system — sometimes being <code>nginx</code>, <code>apache</code>, or even <code>nobody</code>.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># If using NGINX or Apache (not on CentOS):</span></span>
<span class="line"><span class="token function">chown</span> <span class="token parameter variable">-R</span> www-data:www-data * </span>
<span class="line"></span>
<span class="line"><span class="token comment"># If using NGINX on CentOS:</span></span>
<span class="line"><span class="token function">chown</span> <span class="token parameter variable">-R</span> nginx:nginx *</span>
<span class="line"></span>
<span class="line"><span class="token comment"># If using Apache on CentOS</span></span>
<span class="line"><span class="token function">chown</span> <span class="token parameter variable">-R</span> apache:apache *</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,19);function g(f,b){const s=t("RouteLink");return d(),i("div",null,[p,e("div",h,[m,u,e("p",null,[a("You should be installing and using "),o(s,{to:"/panel/1.0/getting_started.html"},{default:r(()=>[a("Pterodactyl Panel 1.0")]),_:1}),a(" in production environments.")])]),v])}const k=n(c,[["render",g],["__file","0.7.html.vue"]]),_=JSON.parse('{"path":"/panel/0.7/upgrade/0.7.html","title":"Upgrading 0.7 Series","lang":"zh-CN","frontmatter":{"description":"Upgrading 0.7 Series This Version is End-of-Life This documentation is for end-of-life software which does not recieve any security updates or support from the community. This d...","head":[["meta",{"property":"og:url","content":"https://pterodactyl.top/panel/0.7/upgrade/0.7.html"}],["meta",{"property":"og:site_name","content":"Pterodactyl-China"}],["meta",{"property":"og:title","content":"Upgrading 0.7 Series"}],["meta",{"property":"og:description","content":"Upgrading 0.7 Series This Version is End-of-Life This documentation is for end-of-life software which does not recieve any security updates or support from the community. This d..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2021-02-25T04:30:39.000Z"}],["meta",{"property":"article:modified_time","content":"2021-02-25T04:30:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Upgrading 0.7 Series\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2021-02-25T04:30:39.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Fetch Updated Files","slug":"fetch-updated-files","link":"#fetch-updated-files","children":[]},{"level":2,"title":"Update Dependencies","slug":"update-dependencies","link":"#update-dependencies","children":[]},{"level":2,"title":"Clear Compiled Template Cache","slug":"clear-compiled-template-cache","link":"#clear-compiled-template-cache","children":[]},{"level":2,"title":"Database Updates","slug":"database-updates","link":"#database-updates","children":[]},{"level":2,"title":"Set Permissions","slug":"set-permissions","link":"#set-permissions","children":[]}],"git":{"createdTime":1532324355000,"updatedTime":1614227439000,"contributors":[{"name":"Dane Everitt","email":"dane@daneeveritt.com","commits":5},{"name":"Jakob Schrettenbrunner","email":"dev@schrej.net","commits":1}]},"readingTime":{"minutes":1.55,"words":465},"filePathRelative":"panel/0.7/upgrade/0.7.md","localizedDate":"2018年7月23日","autoDesc":true}');export{k as comp,_ as data};
