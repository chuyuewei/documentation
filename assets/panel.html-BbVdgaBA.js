import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r,c as d,b as k,w as e,d as n,o,e as s,a as i}from"./app-CxUaffK2.js";const p={},c=n('<h1 id="构建面板资源" tabindex="-1"><a class="header-anchor" href="#构建面板资源"><span>构建面板资源</span></a></h1><div class="hint-container warning"><p class="hint-container-title">注意</p><p><strong>请勿在您的生产</strong>节点上运行以下步骤。</p></div><p>在 <a href="https://github.com/pterodactyl-china/panel/blob/1.0-develop/BUILDING.md" target="_blank" rel="noopener noreferrer">BUILDING.md</a> 文件中也提供了有关如何构建面板的说明。</p><p>面板的前端是用 React 构建的。对源文件所做的任何更改都需要重新编译。 这也适用于样式表。以下部分解释了如何执行此操作。</p><h2 id="安装依赖项" tabindex="-1"><a class="header-anchor" href="#安装依赖项"><span>安装依赖项</span></a></h2><p>以下命令将安装必要的依赖项以构建面板资源。</p><p>构建工具需要 NodeJS，使用 yarn 作为包管理器。</p>',7),g=i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#24292e","--shiki-dark":"#abb2bf","--shiki-light-bg":"#fff","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes github-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," mkdir"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#D19A66"}}," -p"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," /etc/apt/keyrings")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#61AFEF"}},"curl"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#D19A66"}}," -fsSL"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," https://deb.nodesource.com/gpgkey/nodesource-repo.gpg.key"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#ABB2BF"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#61AFEF"}}," sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," gpg"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#D19A66"}}," --dearmor"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#D19A66"}}," -o"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," /etc/apt/keyrings/nodesource.gpg")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#56B6C2"}},"echo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}},' "deb [signed-by=/etc/apt/keyrings/nodesource.gpg] https://deb.nodesource.com/node_16.x nodistro main"'),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#ABB2BF"}}," |"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#61AFEF"}}," sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," tee"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," /etc/apt/sources.list.d/nodesource.list")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," apt"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," update")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," apt"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," install"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#D19A66"}}," -y"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," nodejs")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),m=i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#24292e","--shiki-dark":"#abb2bf","--shiki-light-bg":"#fff","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes github-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," yum"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," https://rpm.nodesource.com/pub_16.x/nodistro/repo/nodesource-release-nodistro-1.noarch.rpm"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#D19A66"}}," -y")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," yum"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#98C379"}}," nodejs"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#D19A66"}}," -y")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),y=n(`<p>安装所需的 JavaScript 软件包。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> i</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yarn</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> # 安装 Yarn</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /var/www/pterodactyl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">yarn</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> # 安装面板构建依赖项</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="构建面板资源-1" tabindex="-1"><a class="header-anchor" href="#构建面板资源-1"><span>构建面板资源</span></a></h2><p>以下命令将重建面板前端。 对于 NodeJS 版本 17 及更高版本，您必须在构建之前启用 <code>--openssl-legacy-provider</code> 选项。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /var/www/pterodactyl</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> NODE_OPTIONS</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">--openssl-legacy-provider</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> # 对于 NodeJS v17+</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> build:production</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> # 构建面板</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>您可以使用 <code>yarn run watch</code> 命令，可以几乎实时地查看更改进度，以便于开发。一旦您对此更改感到满意，可以使用前面提到的 <code>yarn build:production</code> 命令构建面板。</p>`,6);function u(b,C){const l=r("Tabs");return o(),d("div",null,[c,k(l,{id:"23",data:[{id:"Ubuntu/Debian"},{id:"CentOS"}]},{title0:e(({value:a,isActive:t})=>[s("Ubuntu/Debian")]),title1:e(({value:a,isActive:t})=>[s("CentOS")]),tab0:e(({value:a,isActive:t})=>[g]),tab1:e(({value:a,isActive:t})=>[m]),_:1}),y])}const f=h(p,[["render",u],["__file","panel.html.vue"]]),A=JSON.parse('{"path":"/community/customization/panel.html","title":"构建面板资源","lang":"zh-CN","frontmatter":{"description":"构建面板资源 注意 请勿在您的生产节点上运行以下步骤。 在 BUILDING.md 文件中也提供了有关如何构建面板的说明。 面板的前端是用 React 构建的。对源文件所做的任何更改都需要重新编译。 这也适用于样式表。以下部分解释了如何执行此操作。 安装依赖项 以下命令将安装必要的依赖项以构建面板资源。 构建工具需要 NodeJS，使用 yarn 作为...","head":[["meta",{"property":"og:url","content":"https://pterodactyl.top/community/customization/panel.html"}],["meta",{"property":"og:site_name","content":"Pterodactyl-China"}],["meta",{"property":"og:title","content":"构建面板资源"}],["meta",{"property":"og:description","content":"构建面板资源 注意 请勿在您的生产节点上运行以下步骤。 在 BUILDING.md 文件中也提供了有关如何构建面板的说明。 面板的前端是用 React 构建的。对源文件所做的任何更改都需要重新编译。 这也适用于样式表。以下部分解释了如何执行此操作。 安装依赖项 以下命令将安装必要的依赖项以构建面板资源。 构建工具需要 NodeJS，使用 yarn 作为..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-10T06:32:41.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-10T06:32:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"构建面板资源\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-05-10T06:32:41.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"安装依赖项","slug":"安装依赖项","link":"#安装依赖项","children":[]},{"level":2,"title":"构建面板资源","slug":"构建面板资源-1","link":"#构建面板资源-1","children":[]}],"git":{"createdTime":1607699121000,"updatedTime":1715322761000,"contributors":[{"name":"飒爽师叔","email":"43847794+vlssu@users.noreply.github.com","commits":6},{"name":"Alex","email":"admin@softwarenoob.com","commits":1},{"name":"Devonte W","email":"pokeraven4@gmail.com","commits":1},{"name":"Dominika Jadowska","email":"domi.jadowska@gmail.com","commits":1},{"name":"Jakob Schrettenbrunner","email":"dev@schrej.net","commits":1},{"name":"Jelco","email":"53396500+Jelcoo@users.noreply.github.com","commits":1},{"name":"PadowYT2","email":"me@padow.ru","commits":1}]},"readingTime":{"minutes":1.14,"words":342},"filePathRelative":"community/customization/panel.md","localizedDate":"2020年12月11日","autoDesc":true}');export{f as comp,A as data};
